<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="../css/login.css" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" href="../img/favicon.ico"/>
		<title>登录</title>
	</head>
	<body>
		<div class="login">
			<h2 style="text-align: center; margin-top: 50px;">登录</h2>
			<div style="font-size: 15px; margin-left: 20%;">账号:</div>
			<div class="user">
				<input type="text" id="" value="" placeholder="请输入账号" />
			</div>
			<div style="font-size: 15px; margin-left: 20%;">密码:</div>
			<div class="user_password">
				<input type="text" id="" value="" placeholder="请输入密码" />
			</div>
			<div style="width: 100%; text-align: center; margin-top: 30px;">
				<button class="btn">登录</button>
			</div>
			<div style="width: 100%; text-align: center; margin-top: 30px;">
				<a href="../pages/enorr.html" style="color: black; text-decoration: none;">没有账号,前往注册</a>
			</div>
			<div class="there">
				<div style="text-align: center;">第三方登录</div>
				<div class="there-img">
					<img src="../img/QQlogo.png" alt="" srcset="" loading="lazy"/>
					<img src="../img/wblogo.png" alt="" srcset="" loading="lazy"/>
					<img src="../img/wxlogo.png" alt="" srcset="" loading="lazy"/>
				</div>
			</div>
		</div>
	</body>
	<script src="../js/axios.js"></script>
	<script>
		document.querySelector('.btn').addEventListener('click',function(){
			var user=document.querySelector('.user input').value
			var password=document.querySelector('.user_password input').value
			axios({
				url:'https://hmajax.itheima.net/api/login',
				method:"POST",
				headers:{'Content-Type': 'application/json'},
				data:{
						"username":user,
						"password": password
					}
			}).then(function(rest){
				console.log(rest)
				if (rest.data.code==10000) {
					alert('登录成功')
					// 跳转到指定的 URL 地址
					location.href = "../pages/Document.html";
					console.log(rest.data.code)
				} else{
					alert('登录失败')
				}
			}).catch(function(error){
				console.log(error)
				alert('登录失败')
			})
		})
		
	</script>
</html>